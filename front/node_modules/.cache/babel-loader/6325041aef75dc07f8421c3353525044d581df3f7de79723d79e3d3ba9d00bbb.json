{"ast":null,"code":"var _s = $RefreshSig$();\nimport axios from 'axios';\nimport { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nconst useLogin = () => {\n  _s();\n  const [password, setPassword] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [passwordError, setpasswordError] = useState(\"\");\n  const [emailError, setemailError] = useState(\"\");\n  const navigate = useNavigate();\n  const handleValidation = event => {\n    let formIsValid = true;\n    if (!email.match(/^[a-zA-Z_]{3,20}$/)) {\n      formIsValid = false;\n      setemailError(\"Username Not Valid\");\n      return false;\n    } else {\n      setemailError(\"\");\n      formIsValid = true;\n    }\n    if (!password.match(/^[a-zA-Z1-9]{2,22}$/)) {\n      formIsValid = false;\n      setpasswordError(\" length must best min 2 Characters \");\n      return false;\n    } else {\n      setpasswordError(\"\");\n      formIsValid = true;\n    }\n    return formIsValid;\n  };\n  const loginSubmit = e => {\n    e.preventDefault();\n    handleValidation();\n    const result = axios.post('http://localhost:5001/user/signin', {\n      user: email,\n      password\n    });\n    if (result.statusCode == 7000) {\n      localStorage.setItem('ACT', result.data);\n      navigate('/home');\n    }\n    ;\n    if (result.statusCode == 7001) {\n      setemailError('User not Found');\n    }\n    if (result.statusCode == 7003) {\n      setpasswordError('Invalid Password');\n    }\n  };\n  return {\n    loginSubmit,\n    setEmail,\n    emailError,\n    setPassword,\n    passwordError\n  };\n};\n_s(useLogin, \"WsQghXe6TMcV0yJUayroVAsZ+9w=\", false, function () {\n  return [useNavigate];\n});\nexport default useLogin;","map":{"version":3,"names":["axios","useState","useNavigate","useLogin","_s","password","setPassword","email","setEmail","passwordError","setpasswordError","emailError","setemailError","navigate","handleValidation","event","formIsValid","match","loginSubmit","e","preventDefault","result","post","user","statusCode","localStorage","setItem","data"],"sources":["/home/saafi/Desktop/Personal/websock/front/src/pages/login/logic/useLogin.js"],"sourcesContent":["import axios from 'axios';\nimport { useState } from 'react'\nimport { useNavigate } from 'react-router-dom';\n\nconst useLogin = () => {\n\n    const [password, setPassword] = useState(\"\");\n    const [email, setEmail] = useState(\"\");\n    const [passwordError, setpasswordError] = useState(\"\");\n    const [emailError, setemailError] = useState(\"\");\n\n    const navigate = useNavigate();\n\n    const handleValidation = (event) => {\n        let formIsValid = true;\n\n        if (!email.match(/^[a-zA-Z_]{3,20}$/)) {\n            formIsValid = false;\n            setemailError(\"Username Not Valid\");\n            return false;\n        } else {\n            setemailError(\"\");\n            formIsValid = true;\n        }\n\n        if (!password.match(/^[a-zA-Z1-9]{2,22}$/)) {\n            formIsValid = false;\n            setpasswordError(\n                \" length must best min 2 Characters \"\n            );\n            return false;\n        } else {\n            setpasswordError(\"\");\n            formIsValid = true;\n        }\n\n        return formIsValid;\n    };\n\n    const loginSubmit = (e) => {\n        e.preventDefault();\n        handleValidation();\n\n        const result = axios.post('http://localhost:5001/user/signin',{user: email,password})\n        if (result.statusCode == 7000){\n            localStorage.setItem('ACT' , result.data)\n            navigate('/home')\n        };\n        if(result.statusCode == 7001){\n            setemailError('User not Found')\n        }\n        if(result.statusCode == 7003){\n            setpasswordError('Invalid Password')\n        }\n\n    };\n\n    return {\n        loginSubmit,\n        setEmail,\n        emailError,\n        setPassword,\n        passwordError\n    }\n}\nexport default useLogin"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,QAAQ,QAAQ,OAAO;AAChC,SAASC,WAAW,QAAQ,kBAAkB;AAE9C,MAAMC,QAAQ,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAEnB,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGL,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACM,KAAK,EAAEC,QAAQ,CAAC,GAAGP,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACQ,aAAa,EAAEC,gBAAgB,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EACtD,MAAM,CAACU,UAAU,EAAEC,aAAa,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EAEhD,MAAMY,QAAQ,GAAGX,WAAW,CAAC,CAAC;EAE9B,MAAMY,gBAAgB,GAAIC,KAAK,IAAK;IAChC,IAAIC,WAAW,GAAG,IAAI;IAEtB,IAAI,CAACT,KAAK,CAACU,KAAK,CAAC,mBAAmB,CAAC,EAAE;MACnCD,WAAW,GAAG,KAAK;MACnBJ,aAAa,CAAC,oBAAoB,CAAC;MACnC,OAAO,KAAK;IAChB,CAAC,MAAM;MACHA,aAAa,CAAC,EAAE,CAAC;MACjBI,WAAW,GAAG,IAAI;IACtB;IAEA,IAAI,CAACX,QAAQ,CAACY,KAAK,CAAC,qBAAqB,CAAC,EAAE;MACxCD,WAAW,GAAG,KAAK;MACnBN,gBAAgB,CACZ,qCACJ,CAAC;MACD,OAAO,KAAK;IAChB,CAAC,MAAM;MACHA,gBAAgB,CAAC,EAAE,CAAC;MACpBM,WAAW,GAAG,IAAI;IACtB;IAEA,OAAOA,WAAW;EACtB,CAAC;EAED,MAAME,WAAW,GAAIC,CAAC,IAAK;IACvBA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClBN,gBAAgB,CAAC,CAAC;IAElB,MAAMO,MAAM,GAAGrB,KAAK,CAACsB,IAAI,CAAC,mCAAmC,EAAC;MAACC,IAAI,EAAEhB,KAAK;MAACF;IAAQ,CAAC,CAAC;IACrF,IAAIgB,MAAM,CAACG,UAAU,IAAI,IAAI,EAAC;MAC1BC,YAAY,CAACC,OAAO,CAAC,KAAK,EAAGL,MAAM,CAACM,IAAI,CAAC;MACzCd,QAAQ,CAAC,OAAO,CAAC;IACrB;IAAC;IACD,IAAGQ,MAAM,CAACG,UAAU,IAAI,IAAI,EAAC;MACzBZ,aAAa,CAAC,gBAAgB,CAAC;IACnC;IACA,IAAGS,MAAM,CAACG,UAAU,IAAI,IAAI,EAAC;MACzBd,gBAAgB,CAAC,kBAAkB,CAAC;IACxC;EAEJ,CAAC;EAED,OAAO;IACHQ,WAAW;IACXV,QAAQ;IACRG,UAAU;IACVL,WAAW;IACXG;EACJ,CAAC;AACL,CAAC;AAAAL,EAAA,CA5DKD,QAAQ;EAAA,QAOOD,WAAW;AAAA;AAsDhC,eAAeC,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}