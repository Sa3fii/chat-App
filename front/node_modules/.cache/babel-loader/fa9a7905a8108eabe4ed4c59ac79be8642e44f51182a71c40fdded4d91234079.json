{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState } from \"react\";\nconst useNotification = (key, defaultValue = null) => {\n  _s();\n  const [storedValue, setStoredValue] = useState(() => {\n    try {\n      const value = window.localStorage.getItem(key);\n      if (value) return JSON.parse(value);else {\n        ////window.localStorage.setItem(key, JSON.stringify(defaultValue));\n        return defaultValue;\n      }\n    } catch (err) {\n      return defaultValue;\n    }\n  });\n  const setValue = newValue => {\n    let notifList = [];\n    try {\n      if (storedValue) {\n        const idx = storedValue.forEach((elmnt, idx) => {\n          if (elmnt.id == newValue) return idx;\n        });\n        if (idx) {\n          const newNotif = {\n            id: newValue,\n            count: storedValue[idx].count\n          };\n          notifList = storedValue.splice(idx, 1);\n          notifList.push(newNotif);\n        } else if (!idx) {\n          notifList.push({\n            id: newValue,\n            count: 1\n          });\n        }\n      }\n      console.log('rrgfg', notifList);\n      if (newValue) window.localStorage.setItem(key, JSON.stringify(notifList));else window.localStorage.removeItem(key);\n    } catch (err) {}\n    setStoredValue(notifList);\n  };\n  return [storedValue, setValue];\n};\n_s(useNotification, \"j0VUgzh1vBE7nDoYzFQ0PJBq6Bc=\");\nexport default useNotification;","map":{"version":3,"names":["useState","useNotification","key","defaultValue","_s","storedValue","setStoredValue","value","window","localStorage","getItem","JSON","parse","err","setValue","newValue","notifList","idx","forEach","elmnt","id","newNotif","count","splice","push","console","log","setItem","stringify","removeItem"],"sources":["/home/saafi/Desktop/Personal/websock/front/src/core/hooks/useNotification.js"],"sourcesContent":["import { useState } from \"react\";\n\nconst useNotification = (key, defaultValue = null) => {\n\n    const [storedValue, setStoredValue] = useState(\n        () => {\n            try {\n                const value = window.localStorage.getItem(key);\n                if (value) return JSON.parse(value);\n                else {\n                    ////window.localStorage.setItem(key, JSON.stringify(defaultValue));\n                    return defaultValue;\n                }\n            } catch (err) {\n                return defaultValue;\n            }\n        }\n    );\n\n    const setValue = (newValue) => {\n        let notifList = []\n        try {\n\n            if (storedValue) {\n                const idx = storedValue.forEach((elmnt, idx) => {\n                    if (elmnt.id == newValue) return idx\n                });\n                if(idx){\n                    const newNotif = {id:newValue,count : storedValue[idx].count}\n                     notifList =storedValue.splice(idx,1)\n                     notifList.push(newNotif)\n                }else if(!idx){\n                    notifList.push({id : newValue,count:1})\n                }\n            }\n            console.log('rrgfg',notifList)\n            if (newValue) window.localStorage.setItem(key, JSON.stringify(notifList));\n            else window.localStorage.removeItem(key);\n        } catch (err) { }\n        setStoredValue(notifList);\n    };\n\n    return [storedValue, setValue];\n};\n\nexport default useNotification;"],"mappings":";AAAA,SAASA,QAAQ,QAAQ,OAAO;AAEhC,MAAMC,eAAe,GAAGA,CAACC,GAAG,EAAEC,YAAY,GAAG,IAAI,KAAK;EAAAC,EAAA;EAElD,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGN,QAAQ,CAC1C,MAAM;IACF,IAAI;MACA,MAAMO,KAAK,GAAGC,MAAM,CAACC,YAAY,CAACC,OAAO,CAACR,GAAG,CAAC;MAC9C,IAAIK,KAAK,EAAE,OAAOI,IAAI,CAACC,KAAK,CAACL,KAAK,CAAC,CAAC,KAC/B;QACD;QACA,OAAOJ,YAAY;MACvB;IACJ,CAAC,CAAC,OAAOU,GAAG,EAAE;MACV,OAAOV,YAAY;IACvB;EACJ,CACJ,CAAC;EAED,MAAMW,QAAQ,GAAIC,QAAQ,IAAK;IAC3B,IAAIC,SAAS,GAAG,EAAE;IAClB,IAAI;MAEA,IAAIX,WAAW,EAAE;QACb,MAAMY,GAAG,GAAGZ,WAAW,CAACa,OAAO,CAAC,CAACC,KAAK,EAAEF,GAAG,KAAK;UAC5C,IAAIE,KAAK,CAACC,EAAE,IAAIL,QAAQ,EAAE,OAAOE,GAAG;QACxC,CAAC,CAAC;QACF,IAAGA,GAAG,EAAC;UACH,MAAMI,QAAQ,GAAG;YAACD,EAAE,EAACL,QAAQ;YAACO,KAAK,EAAGjB,WAAW,CAACY,GAAG,CAAC,CAACK;UAAK,CAAC;UAC5DN,SAAS,GAAEX,WAAW,CAACkB,MAAM,CAACN,GAAG,EAAC,CAAC,CAAC;UACpCD,SAAS,CAACQ,IAAI,CAACH,QAAQ,CAAC;QAC7B,CAAC,MAAK,IAAG,CAACJ,GAAG,EAAC;UACVD,SAAS,CAACQ,IAAI,CAAC;YAACJ,EAAE,EAAGL,QAAQ;YAACO,KAAK,EAAC;UAAC,CAAC,CAAC;QAC3C;MACJ;MACAG,OAAO,CAACC,GAAG,CAAC,OAAO,EAACV,SAAS,CAAC;MAC9B,IAAID,QAAQ,EAAEP,MAAM,CAACC,YAAY,CAACkB,OAAO,CAACzB,GAAG,EAAES,IAAI,CAACiB,SAAS,CAACZ,SAAS,CAAC,CAAC,CAAC,KACrER,MAAM,CAACC,YAAY,CAACoB,UAAU,CAAC3B,GAAG,CAAC;IAC5C,CAAC,CAAC,OAAOW,GAAG,EAAE,CAAE;IAChBP,cAAc,CAACU,SAAS,CAAC;EAC7B,CAAC;EAED,OAAO,CAACX,WAAW,EAAES,QAAQ,CAAC;AAClC,CAAC;AAACV,EAAA,CAzCIH,eAAe;AA2CrB,eAAeA,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}