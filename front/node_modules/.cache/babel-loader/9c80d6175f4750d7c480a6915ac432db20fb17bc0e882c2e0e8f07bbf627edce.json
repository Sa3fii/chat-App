{"ast":null,"code":"var _s = $RefreshSig$();\nimport axios from 'axios';\nimport { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nconst useLogin = () => {\n  _s();\n  const [password, setPassword] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [passwordError, setpasswordError] = useState(\"\");\n  const [emailError, setemailError] = useState(\"\");\n  const navigate = useNavigate();\n  const handleValidation = event => {\n    let formIsValid = true;\n    if (!email.match(/^[a-zA-Z_]{3,20}$/)) {\n      formIsValid = false;\n      setemailError(\"Username Not Valid\");\n      return false;\n    } else {\n      setemailError(\"\");\n      formIsValid = true;\n    }\n    if (!password.match(/^[a-zA-Z1-9]{2,22}$/)) {\n      formIsValid = false;\n      setpasswordError(\" length must best min 2 Characters \");\n      return false;\n    } else {\n      setpasswordError(\"\");\n      formIsValid = true;\n    }\n    return formIsValid;\n  };\n  const loginSubmit = async e => {\n    try {\n      e.preventDefault();\n      const valid = handleValidation();\n      if (valid) {\n        const result = await axios.post('http://localhost:5001/user/signin', {\n          name: email,\n          password\n        });\n        if (result.data.statusCode == 7000) {\n          localStorage.setItem('ACT', result.data);\n          navigate('/home');\n        }\n        ;\n      }\n    } catch (error) {\n      if (error.response.data.statusCode === 7001) {\n        setemailError('User not Found');\n      }\n      if (error.response.data.statusCode === 7003) {\n        setpasswordError('Invalid Password');\n      }\n    }\n  };\n  return {\n    loginSubmit,\n    setEmail,\n    emailError,\n    setPassword,\n    passwordError\n  };\n};\n_s(useLogin, \"WsQghXe6TMcV0yJUayroVAsZ+9w=\", false, function () {\n  return [useNavigate];\n});\nexport default useLogin;","map":{"version":3,"names":["axios","useState","useNavigate","useLogin","_s","password","setPassword","email","setEmail","passwordError","setpasswordError","emailError","setemailError","navigate","handleValidation","event","formIsValid","match","loginSubmit","e","preventDefault","valid","result","post","name","data","statusCode","localStorage","setItem","error","response"],"sources":["/home/saafi/Desktop/Personal/websock/front/src/pages/login/logic/useLogin.js"],"sourcesContent":["import axios from 'axios';\nimport { useState } from 'react'\nimport { useNavigate } from 'react-router-dom';\n\nconst useLogin = () => {\n\n    const [password, setPassword] = useState(\"\");\n    const [email, setEmail] = useState(\"\");\n    const [passwordError, setpasswordError] = useState(\"\");\n    const [emailError, setemailError] = useState(\"\");\n\n    const navigate = useNavigate();\n\n    const handleValidation = (event) => {\n        let formIsValid = true;\n\n        if (!email.match(/^[a-zA-Z_]{3,20}$/)) {\n            formIsValid = false;\n            setemailError(\"Username Not Valid\");\n            return false;\n        } else {\n            setemailError(\"\");\n            formIsValid = true;\n        }\n\n        if (!password.match(/^[a-zA-Z1-9]{2,22}$/)) {\n            formIsValid = false;\n            setpasswordError(\n                \" length must best min 2 Characters \"\n            );\n            return false;\n        } else {\n            setpasswordError(\"\");\n            formIsValid = true;\n        }\n\n        return formIsValid;\n    };\n\n    const loginSubmit = async (e) => {\n        try {\n            e.preventDefault();\n            const valid = handleValidation();\n            if (valid) {\n                const result = await axios.post('http://localhost:5001/user/signin', { name: email, password })\n                if (result.data.statusCode == 7000) {\n                    localStorage.setItem('ACT', result.data)\n                    navigate('/home')\n                };\n\n            }\n        } catch (error) {\n            if (error.response.data.statusCode === 7001) {\n                setemailError('User not Found')\n            }\n            if (error.response.data.statusCode === 7003) {\n                setpasswordError('Invalid Password')\n            }\n        }\n\n    };\n\n    return {\n        loginSubmit,\n        setEmail,\n        emailError,\n        setPassword,\n        passwordError\n    }\n}\nexport default useLogin"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,QAAQ,QAAQ,OAAO;AAChC,SAASC,WAAW,QAAQ,kBAAkB;AAE9C,MAAMC,QAAQ,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAEnB,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGL,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACM,KAAK,EAAEC,QAAQ,CAAC,GAAGP,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACQ,aAAa,EAAEC,gBAAgB,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EACtD,MAAM,CAACU,UAAU,EAAEC,aAAa,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EAEhD,MAAMY,QAAQ,GAAGX,WAAW,CAAC,CAAC;EAE9B,MAAMY,gBAAgB,GAAIC,KAAK,IAAK;IAChC,IAAIC,WAAW,GAAG,IAAI;IAEtB,IAAI,CAACT,KAAK,CAACU,KAAK,CAAC,mBAAmB,CAAC,EAAE;MACnCD,WAAW,GAAG,KAAK;MACnBJ,aAAa,CAAC,oBAAoB,CAAC;MACnC,OAAO,KAAK;IAChB,CAAC,MAAM;MACHA,aAAa,CAAC,EAAE,CAAC;MACjBI,WAAW,GAAG,IAAI;IACtB;IAEA,IAAI,CAACX,QAAQ,CAACY,KAAK,CAAC,qBAAqB,CAAC,EAAE;MACxCD,WAAW,GAAG,KAAK;MACnBN,gBAAgB,CACZ,qCACJ,CAAC;MACD,OAAO,KAAK;IAChB,CAAC,MAAM;MACHA,gBAAgB,CAAC,EAAE,CAAC;MACpBM,WAAW,GAAG,IAAI;IACtB;IAEA,OAAOA,WAAW;EACtB,CAAC;EAED,MAAME,WAAW,GAAG,MAAOC,CAAC,IAAK;IAC7B,IAAI;MACAA,CAAC,CAACC,cAAc,CAAC,CAAC;MAClB,MAAMC,KAAK,GAAGP,gBAAgB,CAAC,CAAC;MAChC,IAAIO,KAAK,EAAE;QACP,MAAMC,MAAM,GAAG,MAAMtB,KAAK,CAACuB,IAAI,CAAC,mCAAmC,EAAE;UAAEC,IAAI,EAAEjB,KAAK;UAAEF;QAAS,CAAC,CAAC;QAC/F,IAAIiB,MAAM,CAACG,IAAI,CAACC,UAAU,IAAI,IAAI,EAAE;UAChCC,YAAY,CAACC,OAAO,CAAC,KAAK,EAAEN,MAAM,CAACG,IAAI,CAAC;UACxCZ,QAAQ,CAAC,OAAO,CAAC;QACrB;QAAC;MAEL;IACJ,CAAC,CAAC,OAAOgB,KAAK,EAAE;MACZ,IAAIA,KAAK,CAACC,QAAQ,CAACL,IAAI,CAACC,UAAU,KAAK,IAAI,EAAE;QACzCd,aAAa,CAAC,gBAAgB,CAAC;MACnC;MACA,IAAIiB,KAAK,CAACC,QAAQ,CAACL,IAAI,CAACC,UAAU,KAAK,IAAI,EAAE;QACzChB,gBAAgB,CAAC,kBAAkB,CAAC;MACxC;IACJ;EAEJ,CAAC;EAED,OAAO;IACHQ,WAAW;IACXV,QAAQ;IACRG,UAAU;IACVL,WAAW;IACXG;EACJ,CAAC;AACL,CAAC;AAAAL,EAAA,CAjEKD,QAAQ;EAAA,QAOOD,WAAW;AAAA;AA2DhC,eAAeC,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}