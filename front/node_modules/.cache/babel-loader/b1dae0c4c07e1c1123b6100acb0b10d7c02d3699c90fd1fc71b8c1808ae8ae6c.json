{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { socket } from '../../../socket';\nconst useCall = (friend, user) => {\n  _s();\n  const handleCall = () => {\n    socket.emit('Request_Call', friend);\n    const callWindow = window.open(`/call/${friend}`, '', 'width=700,height=650');\n  };\n  const [rejected, setrejected] = useState(false);\n  const [accepted, setaccepted] = useState(false);\n  const [offline, setoffline] = useState(false);\n  useEffect(() => {\n    function onAcceptedCall(data) {\n      setaccepted(true);\n      alert('accepted');\n    }\n    function onRejectedCall(data) {\n      alert('Rejected');\n      setrejected(true);\n    }\n    function onOfflineCall(data) {\n      alert('Offline');\n      setoffline(true);\n    }\n    socket.on('Call_Accepted', onAcceptedCall);\n    socket.on('Call_Rejected', onRejectedCall);\n    socket.on('Call_Offline', onOfflineCall);\n    return () => {\n      socket.off('Call_Accepted', onAcceptedCall);\n      socket.off('Call_Rejected', onRejectedCall);\n      socket.off('Call_Offline', onOfflineCall);\n    };\n  }, [friend]);\n  return {\n    handleCall\n  };\n};\n_s(useCall, \"cOLpC2gtaFHqH34Wjam3nnNUtVU=\");\nexport default useCall;","map":{"version":3,"names":["React","useEffect","useState","socket","useCall","friend","user","_s","handleCall","emit","callWindow","window","open","rejected","setrejected","accepted","setaccepted","offline","setoffline","onAcceptedCall","data","alert","onRejectedCall","onOfflineCall","on","off"],"sources":["/home/saafi/Desktop/Personal/websock/front/src/pages/chat/logic/useCall.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { socket } from '../../../socket'\n\nconst useCall = (friend, user) => {\n\n\n  const handleCall = () => {\n\n    socket.emit('Request_Call',friend);\n    const callWindow = window.open(`/call/${friend}`, '', 'width=700,height=650');\n  }\n\n  const [rejected, setrejected] = useState(false)\n  const [accepted, setaccepted] = useState(false)\n  const [offline, setoffline] = useState(false)\n\n  useEffect(() => {\n    function onAcceptedCall(data) {\n      setaccepted(true)\n      alert('accepted')\n    }\n    function onRejectedCall(data) {\n      alert('Rejected')\n      setrejected(true)\n    }\n    function onOfflineCall(data) {\n      alert('Offline')\n      setoffline(true)\n    }\n\n    socket.on('Call_Accepted', onAcceptedCall);\n    socket.on('Call_Rejected', onRejectedCall);\n    socket.on('Call_Offline', onOfflineCall);\n\n    return () => {\n      socket.off('Call_Accepted', onAcceptedCall);\n      socket.off('Call_Rejected', onRejectedCall);\n      socket.off('Call_Offline', onOfflineCall);\n    }\n  }, [friend])\n\n  return {\n    handleCall,\n  }\n}\n\nexport default useCall"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,MAAM,QAAQ,iBAAiB;AAExC,MAAMC,OAAO,GAAGA,CAACC,MAAM,EAAEC,IAAI,KAAK;EAAAC,EAAA;EAGhC,MAAMC,UAAU,GAAGA,CAAA,KAAM;IAEvBL,MAAM,CAACM,IAAI,CAAC,cAAc,EAACJ,MAAM,CAAC;IAClC,MAAMK,UAAU,GAAGC,MAAM,CAACC,IAAI,CAAE,SAAQP,MAAO,EAAC,EAAE,EAAE,EAAE,sBAAsB,CAAC;EAC/E,CAAC;EAED,MAAM,CAACQ,QAAQ,EAAEC,WAAW,CAAC,GAAGZ,QAAQ,CAAC,KAAK,CAAC;EAC/C,MAAM,CAACa,QAAQ,EAAEC,WAAW,CAAC,GAAGd,QAAQ,CAAC,KAAK,CAAC;EAC/C,MAAM,CAACe,OAAO,EAAEC,UAAU,CAAC,GAAGhB,QAAQ,CAAC,KAAK,CAAC;EAE7CD,SAAS,CAAC,MAAM;IACd,SAASkB,cAAcA,CAACC,IAAI,EAAE;MAC5BJ,WAAW,CAAC,IAAI,CAAC;MACjBK,KAAK,CAAC,UAAU,CAAC;IACnB;IACA,SAASC,cAAcA,CAACF,IAAI,EAAE;MAC5BC,KAAK,CAAC,UAAU,CAAC;MACjBP,WAAW,CAAC,IAAI,CAAC;IACnB;IACA,SAASS,aAAaA,CAACH,IAAI,EAAE;MAC3BC,KAAK,CAAC,SAAS,CAAC;MAChBH,UAAU,CAAC,IAAI,CAAC;IAClB;IAEAf,MAAM,CAACqB,EAAE,CAAC,eAAe,EAAEL,cAAc,CAAC;IAC1ChB,MAAM,CAACqB,EAAE,CAAC,eAAe,EAAEF,cAAc,CAAC;IAC1CnB,MAAM,CAACqB,EAAE,CAAC,cAAc,EAAED,aAAa,CAAC;IAExC,OAAO,MAAM;MACXpB,MAAM,CAACsB,GAAG,CAAC,eAAe,EAAEN,cAAc,CAAC;MAC3ChB,MAAM,CAACsB,GAAG,CAAC,eAAe,EAAEH,cAAc,CAAC;MAC3CnB,MAAM,CAACsB,GAAG,CAAC,cAAc,EAAEF,aAAa,CAAC;IAC3C,CAAC;EACH,CAAC,EAAE,CAAClB,MAAM,CAAC,CAAC;EAEZ,OAAO;IACLG;EACF,CAAC;AACH,CAAC;AAAAD,EAAA,CAzCKH,OAAO;AA2Cb,eAAeA,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}