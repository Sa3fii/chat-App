{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport { socket } from '../../../socket';\nconst useReceivedCall = user => {\n  _s();\n  const [modalShow, setmodalShow] = useState(false);\n  const handleRejectCall = () => {\n    socket.emit('Reject_Call', user);\n    setmodalShow(false);\n  };\n  const handleAcceptCall = () => {\n    socket.emit('Accept_Call', user);\n    const callWindow = window.open('/call', '', 'width=700,height=650');\n    setmodalShow(false);\n  };\n  useEffect(() => {\n    function onCallRequest(data) {\n      setmodalShow(true);\n      console.log(modalShow);\n    }\n    function onCallOffline(data) {}\n    socket.on('Call_Request', onCallRequest);\n    socket.on('Call_Offline', onCallOffline);\n    return () => {\n      socket.off('Call_Request', onCallRequest);\n      socket.off('Call_Offline', onCallOffline);\n    };\n  }, []);\n  return {\n    modalShow,\n    handleRejectCall,\n    handleAcceptCall\n  };\n};\n_s(useReceivedCall, \"SI62Lt/IPe2u+3lhn8bhzXK39DI=\");\nexport default useReceivedCall;","map":{"version":3,"names":["useEffect","useState","socket","useReceivedCall","user","_s","modalShow","setmodalShow","handleRejectCall","emit","handleAcceptCall","callWindow","window","open","onCallRequest","data","console","log","onCallOffline","on","off"],"sources":["/home/saafi/Desktop/Personal/websock/front/src/pages/home/logic/useReceivedCall.js"],"sourcesContent":["import { useEffect, useState } from 'react'\nimport { socket } from '../../../socket'\n\nconst useReceivedCall = (user) => {\n\n    const [modalShow, setmodalShow] = useState(false)\n\n    const handleRejectCall = () => {\n        socket.emit('Reject_Call',user)\n        setmodalShow(false)\n    };\n\n    const handleAcceptCall = () => {\n        socket.emit('Accept_Call',user)\n        const callWindow = window.open('/call', '', 'width=700,height=650');\n        setmodalShow(false)\n    };\n    \n    useEffect(() => {\n\n        function onCallRequest(data) {\n            setmodalShow(true)\n            console.log(modalShow)\n        }\n\n        function onCallOffline(data) {\n\n        }\n\n        socket.on('Call_Request', onCallRequest);\n        socket.on('Call_Offline', onCallOffline);\n\n        return () => {\n            socket.off('Call_Request', onCallRequest);\n            socket.off('Call_Offline', onCallOffline);\n        }\n    }, [])\n\n    return {\n\n        modalShow,\n        handleRejectCall,\n        handleAcceptCall\n    }\n}\n\nexport default useReceivedCall"],"mappings":";AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,MAAM,QAAQ,iBAAiB;AAExC,MAAMC,eAAe,GAAIC,IAAI,IAAK;EAAAC,EAAA;EAE9B,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGN,QAAQ,CAAC,KAAK,CAAC;EAEjD,MAAMO,gBAAgB,GAAGA,CAAA,KAAM;IAC3BN,MAAM,CAACO,IAAI,CAAC,aAAa,EAACL,IAAI,CAAC;IAC/BG,YAAY,CAAC,KAAK,CAAC;EACvB,CAAC;EAED,MAAMG,gBAAgB,GAAGA,CAAA,KAAM;IAC3BR,MAAM,CAACO,IAAI,CAAC,aAAa,EAACL,IAAI,CAAC;IAC/B,MAAMO,UAAU,GAAGC,MAAM,CAACC,IAAI,CAAC,OAAO,EAAE,EAAE,EAAE,sBAAsB,CAAC;IACnEN,YAAY,CAAC,KAAK,CAAC;EACvB,CAAC;EAEDP,SAAS,CAAC,MAAM;IAEZ,SAASc,aAAaA,CAACC,IAAI,EAAE;MACzBR,YAAY,CAAC,IAAI,CAAC;MAClBS,OAAO,CAACC,GAAG,CAACX,SAAS,CAAC;IAC1B;IAEA,SAASY,aAAaA,CAACH,IAAI,EAAE,CAE7B;IAEAb,MAAM,CAACiB,EAAE,CAAC,cAAc,EAAEL,aAAa,CAAC;IACxCZ,MAAM,CAACiB,EAAE,CAAC,cAAc,EAAED,aAAa,CAAC;IAExC,OAAO,MAAM;MACThB,MAAM,CAACkB,GAAG,CAAC,cAAc,EAAEN,aAAa,CAAC;MACzCZ,MAAM,CAACkB,GAAG,CAAC,cAAc,EAAEF,aAAa,CAAC;IAC7C,CAAC;EACL,CAAC,EAAE,EAAE,CAAC;EAEN,OAAO;IAEHZ,SAAS;IACTE,gBAAgB;IAChBE;EACJ,CAAC;AACL,CAAC;AAAAL,EAAA,CAzCKF,eAAe;AA2CrB,eAAeA,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}