{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { socket } from '../../../socket';\nconst useCall = (friend, user) => {\n  _s();\n  const callWindow = window;\n  const handleCall = () => {\n    socket.emit('Request_Call', friend);\n    callWindow.open(`/call/${friend}`, '', 'width=700,height=650');\n  };\n  function onAcceptedCall(data) {\n    setaccepted(true);\n    callWindow.alert('accepted');\n  }\n  function onRejectedCall(data) {\n    callWindow.alert('Rejected');\n    setrejected(true);\n  }\n  function onOfflineCall(data) {\n    callWindow.alert('Offline');\n    setoffline(true);\n  }\n  const [rejected, setrejected] = useState(false);\n  const [accepted, setaccepted] = useState(false);\n  const [offline, setoffline] = useState(false);\n  useEffect(() => {\n    socket.on('Call_Accepted', onAcceptedCall);\n    socket.on('Call_Rejected', onRejectedCall);\n    socket.on('Call_Offline', onOfflineCall);\n    return () => {\n      socket.off('Call_Accepted', onAcceptedCall);\n      socket.off('Call_Rejected', onRejectedCall);\n      socket.off('Call_Offline', onOfflineCall);\n    };\n  }, [friend]);\n  return {\n    handleCall\n  };\n};\n_s(useCall, \"cOLpC2gtaFHqH34Wjam3nnNUtVU=\");\nexport default useCall;","map":{"version":3,"names":["React","useEffect","useState","socket","useCall","friend","user","_s","callWindow","window","handleCall","emit","open","onAcceptedCall","data","setaccepted","alert","onRejectedCall","setrejected","onOfflineCall","setoffline","rejected","accepted","offline","on","off"],"sources":["/home/saafi/Desktop/Personal/websock/front/src/pages/chat/logic/useCall.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { socket } from '../../../socket'\n\nconst useCall = (friend, user) => {\n\n  const callWindow = window\n\n  const handleCall = () => {\n\n    socket.emit('Request_Call',friend);\n    callWindow.open(`/call/${friend}`, '', 'width=700,height=650');\n  }\n\n  function onAcceptedCall(data) {\n    setaccepted(true)\n    callWindow.alert('accepted')\n  }\n  function onRejectedCall(data) {\n    callWindow.alert('Rejected')\n    setrejected(true)\n  }\n  function onOfflineCall(data) {\n    callWindow.alert('Offline')\n    setoffline(true)\n  }\n\n  const [rejected, setrejected] = useState(false)\n  const [accepted, setaccepted] = useState(false)\n  const [offline, setoffline] = useState(false)\n\n  useEffect(() => {\n   \n\n    socket.on('Call_Accepted', onAcceptedCall);\n    socket.on('Call_Rejected', onRejectedCall);\n    socket.on('Call_Offline', onOfflineCall);\n\n    return () => {\n      socket.off('Call_Accepted', onAcceptedCall);\n      socket.off('Call_Rejected', onRejectedCall);\n      socket.off('Call_Offline', onOfflineCall);\n    }\n  }, [friend])\n\n  return {\n    handleCall,\n  }\n}\n\nexport default useCall"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,MAAM,QAAQ,iBAAiB;AAExC,MAAMC,OAAO,GAAGA,CAACC,MAAM,EAAEC,IAAI,KAAK;EAAAC,EAAA;EAEhC,MAAMC,UAAU,GAAGC,MAAM;EAEzB,MAAMC,UAAU,GAAGA,CAAA,KAAM;IAEvBP,MAAM,CAACQ,IAAI,CAAC,cAAc,EAACN,MAAM,CAAC;IAClCG,UAAU,CAACI,IAAI,CAAE,SAAQP,MAAO,EAAC,EAAE,EAAE,EAAE,sBAAsB,CAAC;EAChE,CAAC;EAED,SAASQ,cAAcA,CAACC,IAAI,EAAE;IAC5BC,WAAW,CAAC,IAAI,CAAC;IACjBP,UAAU,CAACQ,KAAK,CAAC,UAAU,CAAC;EAC9B;EACA,SAASC,cAAcA,CAACH,IAAI,EAAE;IAC5BN,UAAU,CAACQ,KAAK,CAAC,UAAU,CAAC;IAC5BE,WAAW,CAAC,IAAI,CAAC;EACnB;EACA,SAASC,aAAaA,CAACL,IAAI,EAAE;IAC3BN,UAAU,CAACQ,KAAK,CAAC,SAAS,CAAC;IAC3BI,UAAU,CAAC,IAAI,CAAC;EAClB;EAEA,MAAM,CAACC,QAAQ,EAAEH,WAAW,CAAC,GAAGhB,QAAQ,CAAC,KAAK,CAAC;EAC/C,MAAM,CAACoB,QAAQ,EAAEP,WAAW,CAAC,GAAGb,QAAQ,CAAC,KAAK,CAAC;EAC/C,MAAM,CAACqB,OAAO,EAAEH,UAAU,CAAC,GAAGlB,QAAQ,CAAC,KAAK,CAAC;EAE7CD,SAAS,CAAC,MAAM;IAGdE,MAAM,CAACqB,EAAE,CAAC,eAAe,EAAEX,cAAc,CAAC;IAC1CV,MAAM,CAACqB,EAAE,CAAC,eAAe,EAAEP,cAAc,CAAC;IAC1Cd,MAAM,CAACqB,EAAE,CAAC,cAAc,EAAEL,aAAa,CAAC;IAExC,OAAO,MAAM;MACXhB,MAAM,CAACsB,GAAG,CAAC,eAAe,EAAEZ,cAAc,CAAC;MAC3CV,MAAM,CAACsB,GAAG,CAAC,eAAe,EAAER,cAAc,CAAC;MAC3Cd,MAAM,CAACsB,GAAG,CAAC,cAAc,EAAEN,aAAa,CAAC;IAC3C,CAAC;EACH,CAAC,EAAE,CAACd,MAAM,CAAC,CAAC;EAEZ,OAAO;IACLK;EACF,CAAC;AACH,CAAC;AAAAH,EAAA,CA5CKH,OAAO;AA8Cb,eAAeA,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}