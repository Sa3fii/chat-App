{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport { socket } from '../../../socket';\nconst useReceivedCall = user => {\n  _s();\n  const [modalShow, setmodalShow] = useState(false);\n  const [caller, setCaller] = useState();\n  const handleRejectCall = () => {\n    socket.emit('Reject_Call', user);\n    setmodalShow(false);\n  };\n  const handleAcceptCall = () => {\n    socket.emit('Accept_Call', user);\n    const callWindow = window.open('/call', '', 'width=700,height=650');\n    setmodalShow(false);\n  };\n  useEffect(() => {\n    function onCallRequest(data) {\n      setCaller(data);\n      setmodalShow(true);\n    }\n    function onCallOffline(data) {}\n    socket.on('Call_Request', onCallRequest);\n    socket.on('Call_Offline', onCallOffline);\n    return () => {\n      socket.off('Call_Request', onCallRequest);\n      socket.off('Call_Offline', onCallOffline);\n    };\n  }, []);\n  return {\n    caller,\n    modalShow,\n    handleRejectCall,\n    handleAcceptCall\n  };\n};\n_s(useReceivedCall, \"XX3mnMLnR3sVamdC7TveKLY+LuM=\");\nexport default useReceivedCall;","map":{"version":3,"names":["useEffect","useState","socket","useReceivedCall","user","_s","modalShow","setmodalShow","caller","setCaller","handleRejectCall","emit","handleAcceptCall","callWindow","window","open","onCallRequest","data","onCallOffline","on","off"],"sources":["/home/saafi/Desktop/Personal/websock/front/src/pages/home/logic/useReceivedCall.js"],"sourcesContent":["import { useEffect, useState } from 'react'\nimport { socket } from '../../../socket'\n\nconst useReceivedCall = (user) => {\n\n    const [modalShow, setmodalShow] = useState(false)\n    const [caller,setCaller] = useState();\n\n    const handleRejectCall = () => {\n        socket.emit('Reject_Call',user)\n        setmodalShow(false)\n    };\n\n    const handleAcceptCall = () => {\n        socket.emit('Accept_Call',user)\n        const callWindow = window.open('/call', '', 'width=700,height=650');\n        setmodalShow(false)\n    };\n    \n    useEffect(() => {\n\n        function onCallRequest(data) {\n            setCaller(data)\n            setmodalShow(true)\n        }\n\n        function onCallOffline(data) {\n\n        }\n\n        socket.on('Call_Request', onCallRequest);\n        socket.on('Call_Offline', onCallOffline);\n\n        return () => {\n            socket.off('Call_Request', onCallRequest);\n            socket.off('Call_Offline', onCallOffline);\n        }\n    }, [])\n\n    return {\n        caller,\n        modalShow,\n        handleRejectCall,\n        handleAcceptCall\n    }\n}\n\nexport default useReceivedCall"],"mappings":";AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,MAAM,QAAQ,iBAAiB;AAExC,MAAMC,eAAe,GAAIC,IAAI,IAAK;EAAAC,EAAA;EAE9B,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGN,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACO,MAAM,EAACC,SAAS,CAAC,GAAGR,QAAQ,CAAC,CAAC;EAErC,MAAMS,gBAAgB,GAAGA,CAAA,KAAM;IAC3BR,MAAM,CAACS,IAAI,CAAC,aAAa,EAACP,IAAI,CAAC;IAC/BG,YAAY,CAAC,KAAK,CAAC;EACvB,CAAC;EAED,MAAMK,gBAAgB,GAAGA,CAAA,KAAM;IAC3BV,MAAM,CAACS,IAAI,CAAC,aAAa,EAACP,IAAI,CAAC;IAC/B,MAAMS,UAAU,GAAGC,MAAM,CAACC,IAAI,CAAC,OAAO,EAAE,EAAE,EAAE,sBAAsB,CAAC;IACnER,YAAY,CAAC,KAAK,CAAC;EACvB,CAAC;EAEDP,SAAS,CAAC,MAAM;IAEZ,SAASgB,aAAaA,CAACC,IAAI,EAAE;MACzBR,SAAS,CAACQ,IAAI,CAAC;MACfV,YAAY,CAAC,IAAI,CAAC;IACtB;IAEA,SAASW,aAAaA,CAACD,IAAI,EAAE,CAE7B;IAEAf,MAAM,CAACiB,EAAE,CAAC,cAAc,EAAEH,aAAa,CAAC;IACxCd,MAAM,CAACiB,EAAE,CAAC,cAAc,EAAED,aAAa,CAAC;IAExC,OAAO,MAAM;MACThB,MAAM,CAACkB,GAAG,CAAC,cAAc,EAAEJ,aAAa,CAAC;MACzCd,MAAM,CAACkB,GAAG,CAAC,cAAc,EAAEF,aAAa,CAAC;IAC7C,CAAC;EACL,CAAC,EAAE,EAAE,CAAC;EAEN,OAAO;IACHV,MAAM;IACNF,SAAS;IACTI,gBAAgB;IAChBE;EACJ,CAAC;AACL,CAAC;AAAAP,EAAA,CA1CKF,eAAe;AA4CrB,eAAeA,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}